{"ast":null,"code":"import { expense_types } from '../../shared/constants/expense-constants';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/database.service\";\nimport * as i2 from \"../../service/authentication.service\";\n\nfunction ManageExpenseComponent_mat_dialog_content_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-dialog-content\")(1, \"div\")(2, \"div\", 4)(3, \"div\", 5)(4, \"label\");\n    i0.ɵɵtext(5, \"description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 5)(9, \"label\");\n    i0.ɵɵtext(10, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 4)(14, \"div\", 6)(15, \"label\");\n    i0.ɵɵtext(16, \"Date \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵtext(18, \"wjjkj\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 6)(20, \"label\");\n    i0.ɵɵtext(21, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵtext(23, \"skksk\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 6)(25, \"label\");\n    i0.ɵɵtext(26, \"Expense Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"p\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 4)(30, \"div\", 7)(31, \"label\");\n    i0.ɵɵtext(32, \"Comments \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\");\n    i0.ɵɵtext(34, \"ssa\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.expense.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r1.expense.amount, \"\");\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(ctx_r1.expense.type);\n  }\n}\n\nexport let ManageExpenseComponent = /*#__PURE__*/(() => {\n  class ManageExpenseComponent {\n    constructor(data, // private dialogRef: MatDialogRef<ManageExpenseComponent>,\n    database, loginService) {\n      this.data = data;\n      this.database = database;\n      this.loginService = loginService;\n      this.update = false;\n      this.categories = this.loginService.getCurrentCategories();\n      this.types = expense_types;\n      this.expense = Object.assign(Object.assign({}, this.data), {\n        date: new Date(this.data.date)\n      });\n      this.original = Object.assign(Object.assign({}, this.data), {\n        date: new Date(this.data.date)\n      });\n    }\n\n    ngOnInit() {}\n\n    deleteExpense() {// const userId = this.loginService.getUserId();\n      // this.database.deleteExpense(userId, this.expense.id)\n      //   .then(_ => this.successfulDelete())\n      //   .catch(err => this.failedDeleted(err));\n    }\n\n    openSnackBar(message) {//this.snackBar.open(message, '', {duration: 3000});\n    }\n\n    successfulDelete() {\n      // this.dialogRef.close('Successful');\n      this.openSnackBar('Expense Deleted!');\n    }\n\n    failedDeleted(err) {\n      this.openSnackBar(err.message);\n    }\n\n    pushUpdate() {\n      const userId = this.loginService.getUserId();\n      const key = this.expense.id;\n      const expenseObj = Object.assign({}, this.expense);\n      delete expenseObj.id; // this.database.updateExpense(userId, key, expenseObj)\n      //   .then(_ => this.successfulUpdate())\n      //   .catch(err => this.failedUpdate(err));\n    }\n\n    successfulUpdate() {\n      // this.dialogRef.close('Successful');\n      this.openSnackBar('Expense Updated!');\n    }\n\n    failedUpdate(err) {\n      this.openSnackBar(err.message);\n    }\n\n    updateExpense(value, valid, form) {\n      if (valid) {\n        this.pushUpdate();\n      }\n    }\n\n    formatAmount() {\n      if (this.expense.amount !== null) {\n        if (typeof this.expense.amount !== 'string') {\n          const rounded = this.expense.amount.toFixed(2);\n          this.expense.amount = parseFloat(rounded);\n        }\n      }\n    }\n\n    reset() {\n      this.expense = Object.assign({}, this.original);\n    }\n\n    isExpenseUntouched() {\n      return JSON.stringify(this.expense) === JSON.stringify(this.original);\n    }\n\n  }\n\n  ManageExpenseComponent.ɵfac = function ManageExpenseComponent_Factory(t) {\n    return new (t || ManageExpenseComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n  };\n\n  ManageExpenseComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManageExpenseComponent,\n    selectors: [[\"app-manage-expense\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[\"mat-dialog-title\", \"\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [4, \"ngIf\"], [1, \"row\"], [1, \"col-sm-6\"], [1, \"col-sm-4\"], [1, \"col-sm-12\"]],\n    template: function ManageExpenseComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"Manage Expense\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ManageExpenseComponent_Template_form_ngSubmit_2_listener() {\n          i0.ɵɵrestoreView(_r2);\n\n          const _r0 = i0.ɵɵreference(3);\n\n          return i0.ɵɵresetView(ctx.updateExpense(_r0.value, _r0.valid, _r0));\n        });\n        i0.ɵɵtemplate(4, ManageExpenseComponent_mat_dialog_content_4_Template, 35, 3, \"mat-dialog-content\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.update);\n      }\n    },\n    styles: [\".row[_ngcontent-%COMP%]{padding-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700}.delete[_ngcontent-%COMP%]{color:#f44336}.md2-select[_ngcontent-%COMP%]{width:100%;margin-top:30px}.date-picker[_ngcontent-%COMP%]{margin-bottom:20px!important}.mat-dialog-title[_ngcontent-%COMP%]{font-weight:400}\"]\n  });\n  return ManageExpenseComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}